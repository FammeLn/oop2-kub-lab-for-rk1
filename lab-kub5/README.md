# üöÄ –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ5: Akka Cluster Bootstrap –≤ Kubernetes

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
- [–¶–µ–ª–∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã](#—Ü–µ–ª–∏-–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π-—Ä–∞–±–æ—Ç—ã)
- [–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å](#—Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è-—á–∞—Å—Ç—å)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Ä–µ—à–µ–Ω–∏—è)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è](#–ø–æ–¥—Ä–æ–±–Ω–∞—è-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è)
- [–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã](#—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã)
- [–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)
- [–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã](#–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ-–≤–æ–ø—Ä–æ—Å—ã)
- [–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è](#–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–∑–∞–¥–∞–Ω–∏—è)

---

## üìñ –û–±–∑–æ—Ä

–≠—Ç–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç, –∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å **—Å–∞–º–æ—Ñ–æ—Ä–º–∏—Ä—É—é—â–∏–π—Å—è Akka Cluster** –≤ Kubernetes –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö seed-nodes.

### üéØ –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:

- **Service Discovery** —á–µ—Ä–µ–∑ Kubernetes API
- **Cluster Bootstrap** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞
- **Akka Management** ‚Äî HTTP endpoint –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **Decentralized** ‚Äî –Ω–µ—Ç –µ–¥–∏–Ω–æ–π —Ç–æ—á–∫–∏ –æ—Ç–∫–∞–∑–∞
- **Cloud-native** ‚Äî –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Kubernetes

---

## üéì –¶–µ–ª–∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –≤—ã –Ω–∞—É—á–∏—Ç–µ—Å—å:

1. ‚úÖ –ü–æ–¥–∫–ª—é—á–∞—Ç—å **Akka Management** –∏ **Cluster Bootstrap**
2. ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å **Service Discovery** —á–µ—Ä–µ–∑ Kubernetes API
3. ‚úÖ –ó–∞–ø—É—Å–∫–∞—Ç—å –∫–ª–∞—Å—Ç–µ—Ä **–±–µ–∑ seed-nodes**
4. ‚úÖ –ù–∞–±–ª—é–¥–∞—Ç—å **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞**
5. ‚úÖ –°–æ–∑–¥–∞–≤–∞—Ç—å **Docker –æ–±—Ä–∞–∑—ã** –¥–ª—è Akka –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
6. ‚úÖ –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ **Kubernetes**
7. ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å **RBAC** –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ Kubernetes API
8. ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∞—Å—Ç–µ—Ä **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏**

---

## üìö –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–∞–∫ —É–∑–ª—ã –Ω–∞—Ö–æ–¥—è—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞?

–í Kubernetes:
- Pod'—ã –∏–º–µ—é—Ç **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ IP-–∞–¥—Ä–µ—Å–∞**
- IP –º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ **–∫–∞–∂–¥–æ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ Pod'–æ–≤ **–ø–æ—Å—Ç–æ—è–Ω–Ω–æ –º–µ–Ω—è–µ—Ç—Å—è**

‚ùå **–°—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥:** —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ seed-nodes
```hocon
akka.cluster.seed-nodes = [
  "akka://system@192.168.1.10:25520"  # –ù–ï –†–ê–ë–û–¢–ê–ï–¢!
]
```

‚úÖ **–ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥:** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π Service Discovery
```hocon
akka.management.cluster.bootstrap {
  contact-point-discovery {
    discovery-method = kubernetes-api
  }
}
```

### –†–µ—à–µ–Ω–∏–µ: Akka Cluster Bootstrap

**Akka Cluster Bootstrap** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –û–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ Kubernetes API
2. –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ Pod'–æ–≤
3. –°–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å –Ω–∏–º–∏ —á–µ—Ä–µ–∑ Management endpoint
4. –°–æ–≥–ª–∞—Å–æ–≤—ã–≤–∞–µ—Ç membership
5. –§–æ—Ä–º–∏—Ä—É–µ—Ç –∫–ª–∞—Å—Ç–µ—Ä

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Kubernetes Cluster                                      ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ Deployment (replicas: 3)                           ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê             ‚îÇ
‚îÇ  ‚îÇ Pod 1    ‚îÇ  ‚îÇ Pod 2    ‚îÇ  ‚îÇ Pod 3    ‚îÇ             ‚îÇ
‚îÇ  ‚îÇ          ‚îÇ  ‚îÇ          ‚îÇ  ‚îÇ          ‚îÇ             ‚îÇ
‚îÇ  ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ  ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ  ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ             ‚îÇ
‚îÇ  ‚îÇ ‚îÇ Akka ‚îÇ‚óÑ‚îº‚îÄ‚îÄ‚îº‚îÄ‚î§ Akka ‚îÇ‚óÑ‚îº‚îÄ‚îÄ‚îº‚îÄ‚î§ Akka ‚îÇ ‚îÇ  Cluster   ‚îÇ
‚îÇ  ‚îÇ ‚îÇCluster‚îÇ ‚îÇ  ‚îÇ ‚îÇCluster‚îÇ ‚îÇ  ‚îÇ ‚îÇCluster‚îÇ ‚îÇ  (Mesh)    ‚îÇ
‚îÇ  ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îò ‚îÇ  ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îò ‚îÇ  ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îò ‚îÇ             ‚îÇ
‚îÇ  ‚îÇ     ‚îÇ    ‚îÇ  ‚îÇ     ‚îÇ    ‚îÇ  ‚îÇ     ‚îÇ    ‚îÇ             ‚îÇ
‚îÇ  ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îê ‚îÇ  ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îê ‚îÇ  ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îê ‚îÇ             ‚îÇ
‚îÇ  ‚îÇ ‚îÇMgmt  ‚îÇ ‚îÇ  ‚îÇ ‚îÇMgmt  ‚îÇ ‚îÇ  ‚îÇ ‚îÇMgmt  ‚îÇ ‚îÇ             ‚îÇ
‚îÇ  ‚îÇ ‚îÇ:8558 ‚îÇ ‚îÇ  ‚îÇ ‚îÇ:8558 ‚îÇ ‚îÇ  ‚îÇ ‚îÇ:8558 ‚îÇ ‚îÇ             ‚îÇ
‚îÇ  ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ  ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ  ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ             ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò             ‚îÇ
‚îÇ       ‚îÇ             ‚îÇ             ‚îÇ                     ‚îÇ
‚îÇ       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                     ‚îÇ
‚îÇ                     ‚îÇ                                   ‚îÇ
‚îÇ             ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                           ‚îÇ
‚îÇ             ‚îÇ Kubernetes API‚îÇ                           ‚îÇ
‚îÇ             ‚îÇ (Discovery)   ‚îÇ                           ‚îÇ
‚îÇ             ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü—Ä–æ—Ü–µ—Å—Å —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞:

```
1. Pod –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
   ‚Üì
2. Akka Management —Å—Ç–∞—Ä—Ç—É–µ—Ç (HTTP :8558)
   ‚Üì
3. Cluster Bootstrap –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ K8s API
   ‚Üì
4. –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ Pod'–æ–≤ (–ø–æ label selector)
   ‚Üì
5. –°–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å Management endpoints
   ‚Üì
6. –°–æ–≥–ª–∞—Å–æ–≤—ã–≤–∞–µ—Ç membership
   ‚Üì
7. –§–æ—Ä–º–∏—Ä—É–µ—Ç Akka Cluster
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
lab-kub5/
‚îú‚îÄ‚îÄ pom.xml                           # Maven –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Dockerfile                        # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ README.md                         # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ LECTURE_NOTES.md                  # –ö–æ–Ω—Å–ø–µ–∫—Ç –ª–µ–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ QUICKSTART.md                     # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
‚îÇ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ main/
‚îÇ       ‚îú‚îÄ‚îÄ java/com/akka/kublab5/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ ClusterNode.java      # –£–∑–µ–ª –∫–ª–∞—Å—Ç–µ—Ä–∞
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ Main.java             # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ       ‚îÇ
‚îÇ       ‚îî‚îÄ‚îÄ resources/
‚îÇ           ‚îú‚îÄ‚îÄ application.conf      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Akka
‚îÇ           ‚îî‚îÄ‚îÄ logback.xml           # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ
‚îú‚îÄ‚îÄ k8s/                              # Kubernetes –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ namespace.yaml                # Namespace
‚îÇ   ‚îú‚îÄ‚îÄ rbac.yaml                     # ServiceAccount, Role, RoleBinding
‚îÇ   ‚îú‚îÄ‚îÄ service.yaml                  # Kubernetes Service
‚îÇ   ‚îî‚îÄ‚îÄ deployment.yaml               # Deployment
‚îÇ
‚îî‚îÄ‚îÄ scripts/                          # –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ build.sh                      # –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞
    ‚îú‚îÄ‚îÄ deploy.sh                     # –î–µ–ø–ª–æ–π –≤ K8s
    ‚îî‚îÄ‚îÄ cleanup.sh                    # –û—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
```

---

## üõ†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:

- **Java:** 17 –∏–ª–∏ –≤—ã—à–µ
- **Maven:** 3.6 –∏–ª–∏ –≤—ã—à–µ
- **Docker:** –¥–ª—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞
- **Kubernetes:** –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:
  - Minikube
  - kind (Kubernetes in Docker)
  - Docker Desktop —Å Kubernetes
  - –£–¥–∞–ª—ë–Ω–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä
- **kubectl:** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª–∞—Å—Ç–µ—Ä–æ–º

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
java -version        # Java 17+
mvn -version         # Maven 3.6+
docker --version     # Docker
kubectl version      # kubectl
kubectl cluster-info # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–ª–∞—Å—Ç–µ—Ä—É
```

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞

–î–ª—è **Minikube**:
```bash
# –ò—Å–ø–æ–ª—å–∑—É–µ–º Docker –¥–µ–º–æ–Ω Minikube
eval $(minikube docker-env)

# –°–æ–±–∏—Ä–∞–µ–º –æ–±—Ä–∞–∑
cd lab-kub5
./scripts/build.sh
```

–î–ª—è **—É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞**:
```bash
# –°–æ–±–∏—Ä–∞–µ–º –∏ –ø—É—à–∏–º –≤ registry
./scripts/build.sh

# –û–±–Ω–æ–≤–∏—Ç–µ image –≤ k8s/deployment.yaml
# image: your-registry/akka-cluster-bootstrap:latest
```

### 2. –î–µ–ø–ª–æ–π –≤ Kubernetes

```bash
./scripts/deploy.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –°–æ–∑–¥–∞—Å—Ç namespace `akka-cluster`
- –ü—Ä–∏–º–µ–Ω–∏—Ç RBAC –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- –°–æ–∑–¥–∞—Å—Ç Service
- –†–∞–∑–≤–µ—Ä–Ω—ë—Ç Deployment —Å 3 —Ä–µ–ø–ª–∏–∫–∞–º–∏

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª–∞—Å—Ç–µ—Ä–∞

```bash
# –°–º–æ—Ç—Ä–∏–º Pod'—ã
kubectl get pods -n akka-cluster

# –õ–æ–≥–∏ –ø–µ—Ä–≤–æ–≥–æ Pod'–∞
kubectl logs -f <pod-name> -n akka-cluster

# –õ–æ–≥–∏ –≤—Å–µ—Ö Pod'–æ–≤ (—Å–ª–µ–¥–∏–º –∑–∞ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∫–ª–∞—Å—Ç–µ—Ä–∞)
kubectl logs -f -l app=akka-cluster -n akka-cluster --max-log-requests=10
```

### 4. –ß—Ç–æ –≤—ã —É–≤–∏–¥–∏—Ç–µ?

–í –ª–æ–≥–∞—Ö –∫–∞–∂–¥–æ–≥–æ Pod'–∞:
```
‚úÖ –£–∑–µ–ª –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª—Å—è –∫ –∫–ª–∞—Å—Ç–µ—Ä—É: akka://ClusterSystem@10.1.0.10:25520
‚úÖ –£–∑–µ–ª –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª—Å—è –∫ –∫–ª–∞—Å—Ç–µ—Ä—É: akka://ClusterSystem@10.1.0.11:25520
‚úÖ –£–∑–µ–ª –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª—Å—è –∫ –∫–ª–∞—Å—Ç–µ—Ä—É: akka://ClusterSystem@10.1.0.12:25520
üëë –ù–æ–≤—ã–π –ª–∏–¥–µ—Ä –∫–ª–∞—Å—Ç–µ—Ä–∞: akka://ClusterSystem@10.1.0.10:25520
üìä –ß–ª–µ–Ω–æ–≤ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ: 3
```

---

## üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–í `pom.xml` –ø–æ–¥–∫–ª—é—á–µ–Ω—ã:

```xml
<!-- Akka Management -->
<dependency>
  <groupId>com.lightbend.akka.management</groupId>
  <artifactId>akka-management_2.13</artifactId>
</dependency>

<!-- Cluster Bootstrap -->
<dependency>
  <groupId>com.lightbend.akka.management</groupId>
  <artifactId>akka-management-cluster-bootstrap_2.13</artifactId>
</dependency>

<!-- Kubernetes Discovery -->
<dependency>
  <groupId>com.lightbend.akka.discovery</groupId>
  <artifactId>akka-discovery-kubernetes-api_2.13</artifactId>
</dependency>
```

### –®–∞–≥ 2: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**application.conf:**

```hocon
akka {
  # Remoting - —Å–≤—è–∑—å –º–µ–∂–¥—É —É–∑–ª–∞–º–∏
  remote.artery.canonical {
    hostname = ${HOSTNAME}    # IP Pod'–∞
    port = 25520
  }
  
  # Management endpoint
  management.http {
    hostname = "0.0.0.0"
    port = 8558
  }
  
  # Bootstrap
  management.cluster.bootstrap {
    contact-point-discovery {
      discovery-method = kubernetes-api
    }
  }
  
  # Discovery
  discovery.kubernetes-api {
    pod-label-selector = "app=akka-cluster"
  }
}
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ Management

**Main.java:**

```java
// –°–æ–∑–¥–∞–Ω–∏–µ ActorSystem
ActorSystem<ClusterNode.Command> system = 
    ActorSystem.create(ClusterNode.create(), "ClusterSystem");

// –ó–∞–ø—É—Å–∫ Management
AkkaManagement management = AkkaManagement.get(system);
management.start();

// –ó–∞–ø—É—Å–∫ Bootstrap
ClusterBootstrap.get(system).start();
```

### –®–∞–≥ 4: RBAC –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**k8s/rbac.yaml:**

Pod'–∞–º –Ω—É–∂–Ω—ã –ø—Ä–∞–≤–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –¥—Ä—É–≥–∏—Ö Pod'–∞—Ö:

```yaml
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
rules:
  - apiGroups: [""]
    resources: ["pods"]
    verbs: ["get", "list", "watch"]
```

### –®–∞–≥ 5: Deployment

**k8s/deployment.yaml:**

```yaml
spec:
  replicas: 3
  serviceAccountName: akka-cluster-sa  # –í–ê–ñ–ù–û!
  
  containers:
    - name: akka-cluster
      image: akka-cluster-bootstrap:latest
      ports:
        - name: remoting
          containerPort: 25520
        - name: management
          containerPort: 8558
```

---

## üß™ –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã

### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 1: –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–≤–µ—Ä—Ö

```bash
# –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–ø–ª–∏–∫ –¥–æ 5
kubectl scale deployment/akka-cluster-deployment --replicas=5 -n akka-cluster

# –ù–∞–±–ª—é–¥–∞–µ–º –∑–∞ –ª–æ–≥–∞–º–∏
kubectl logs -f -l app=akka-cluster -n akka-cluster
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç:**
- Kubernetes —Å–æ–∑–¥–∞—Å—Ç 2 –Ω–æ–≤—ã—Ö Pod'–∞
- –ù–æ–≤—ã–µ Pod'—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∞—Ç –∫–ª–∞—Å—Ç–µ—Ä
- –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è—Ç—Å—è —á–µ—Ä–µ–∑ bootstrap
- –í –ª–æ–≥–∞—Ö —É–≤–∏–¥–∏—Ç–µ: `‚úÖ –£–∑–µ–ª –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª—Å—è`

### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 2: –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–Ω–∏–∑

```bash
# –£–º–µ–Ω—å—à–∞–µ–º –¥–æ 2 —Ä–µ–ø–ª–∏–∫
kubectl scale deployment/akka-cluster-deployment --replicas=2 -n akka-cluster
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç:**
- Kubernetes —É–¥–∞–ª–∏—Ç 1 Pod
- –û—Å—Ç–∞–ª—å–Ω—ã–µ —É–∑–ª—ã –æ–±–Ω–∞—Ä—É–∂–∞—Ç unreachable member
- Membership –æ–±–Ω–æ–≤–∏—Ç—Å—è
- –í –ª–æ–≥–∞—Ö: `‚ùå –£–∑–µ–ª –ø–æ–∫–∏–Ω—É–ª –∫–ª–∞—Å—Ç–µ—Ä`

### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 3: –£–±–∏–π—Å—Ç–≤–æ Pod'–∞

```bash
# –í—ã–±–∏—Ä–∞–µ–º –ª—é–±–æ–π Pod
kubectl get pods -n akka-cluster

# –£–¥–∞–ª—è–µ–º –µ–≥–æ
kubectl delete pod <pod-name> -n akka-cluster

# –ù–∞–±–ª—é–¥–∞–µ–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
kubectl get pods -n akka-cluster -w
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç:**
- Pod –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω
- Deployment –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—ã–π
- –ù–æ–≤—ã–π Pod –ø–æ–ª—É—á–∏—Ç –Ω–æ–≤—ã–π IP
- Bootstrap –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç –µ–≥–æ –≤ –∫–ª–∞—Å—Ç–µ—Ä
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç resilience!

### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ Management endpoint

```bash
# Port-forward –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ Management
kubectl port-forward <pod-name> 8558:8558 -n akka-cluster

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º endpoints
curl http://localhost:8558/alive    # Liveness
curl http://localhost:8558/ready    # Readiness
curl http://localhost:8558/cluster/members  # –ß–ª–µ–Ω—ã –∫–ª–∞—Å—Ç–µ—Ä–∞
```

### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 5: –ü–æ–ª–Ω—ã–π —Ä–µ—Å—Ç–∞—Ä—Ç

```bash
# –£–¥–∞–ª—è–µ–º –≤—Å–µ Pod'—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
kubectl delete pods -l app=akka-cluster -n akka-cluster

# –ù–∞–±–ª—é–¥–∞–µ–º –∑–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º
kubectl get pods -n akka-cluster -w
kubectl logs -f -l app=akka-cluster -n akka-cluster
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç:**
- –í—Å–µ Pod'—ã –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã
- Deployment —Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—ã–µ
- –ö–ª–∞—Å—Ç–µ—Ä —Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∑–∞–Ω–æ–≤–æ
- –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π bootstrap!

---

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: Pod'—ã –Ω–µ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç –∫–ª–∞—Å—Ç–µ—Ä

**–°–∏–º–ø—Ç–æ–º—ã:**
```
–ù–µ –≤–∏–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–π "–£–∑–µ–ª –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª—Å—è"
```

**–†–µ—à–µ–Ω–∏—è:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ RBAC:**
   ```bash
   kubectl get serviceaccount akka-cluster-sa -n akka-cluster
   kubectl get role akka-cluster-role -n akka-cluster
   kubectl get rolebinding akka-cluster-rolebinding -n akka-cluster
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ label selector:**
   ```bash
   kubectl get pods -n akka-cluster --show-labels
   # –î–æ–ª–∂–µ–Ω –±—ã—Ç—å label: app=akka-cluster
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Management endpoint:**
   ```bash
   kubectl port-forward <pod-name> 8558:8558 -n akka-cluster
   curl http://localhost:8558/alive
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: ImagePullBackOff

**–†–µ—à–µ–Ω–∏–µ –¥–ª—è Minikube:**
```bash
eval $(minikube docker-env)
./scripts/build.sh
```

**–†–µ—à–µ–Ω–∏–µ –¥–ª—è —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞:**
```bash
# –ó–∞–ø—É—à–∏—Ç–µ –æ–±—Ä–∞–∑ –≤ registry
docker tag akka-cluster-bootstrap:latest your-registry/akka-cluster-bootstrap:latest
docker push your-registry/akka-cluster-bootstrap:latest

# –û–±–Ω–æ–≤–∏—Ç–µ k8s/deployment.yaml
# image: your-registry/akka-cluster-bootstrap:latest
```

### –ü—Ä–æ–±–ª–µ–º–∞: CrashLoopBackOff

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
```bash
kubectl logs <pod-name> -n akka-cluster
kubectl describe pod <pod-name> -n akka-cluster
```

**–ß–∞—Å—Ç—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –û—à–∏–±–∫–∞ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–µ—Å—É—Ä—Å–æ–≤ (–ø–∞–º—è—Ç–∏/CPU)
- –ü—Ä–æ–±–ª–µ–º—ã —Å Java heap

---

## ‚ùì –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### 1. –ü–æ—á–µ–º—É seed-nodes –ø–ª–æ—Ö–æ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è Kubernetes?

<details>
<summary>–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç</summary>

**–û—Ç–≤–µ—Ç:**

Seed-nodes ‚Äî —ç—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫ IP-–∞–¥—Ä–µ—Å–æ–≤ —É–∑–ª–æ–≤ –∫–ª–∞—Å—Ç–µ—Ä–∞:
```hocon
akka.cluster.seed-nodes = [
  "akka://system@192.168.1.10:25520"
]
```

**–ü—Ä–æ–±–ª–µ–º—ã –≤ Kubernetes:**

1. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ IP:** Pod'—ã –ø–æ–ª—É—á–∞—é—Ç –Ω–æ–≤—ã–µ IP –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ
2. **–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–ø–µ–∫–∞–µ—Ç—Å—è –≤ –æ–±—Ä–∞–∑
3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏:** –ù–µ–ª—å–∑—è –¥–æ–±–∞–≤–ª—è—Ç—å —É–∑–ª—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
4. **–•—Ä—É–ø–∫–æ—Å—Ç—å:** –ï—Å–ª–∏ seed-node –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –∫–ª–∞—Å—Ç–µ—Ä –Ω–µ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è
5. **–ü—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–µ cloud-native:** –°—Ç–∞—Ç–∏–∫–∞ vs. –¥–∏–Ω–∞–º–∏–∫–∞

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:** Service Discovery + Bootstrap

</details>

### 2. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç Akka Management?

<details>
<summary>–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç</summary>

**–û—Ç–≤–µ—Ç:**

Akka Management ‚Äî —ç—Ç–æ –º–æ–¥—É–ª—å, –∫–æ—Ç–æ—Ä—ã–π:

**1. HTTP Endpoint (–ø–æ—Ä—Ç 8558):**
- `/alive` ‚Äî liveness probe (–∂–∏–≤ –ª–∏ –ø—Ä–æ—Ü–µ—Å—Å?)
- `/ready` ‚Äî readiness probe (–≥–æ—Ç–æ–≤ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã?)
- `/cluster/members` ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —á–ª–µ–Ω–∞—Ö –∫–ª–∞—Å—Ç–µ—Ä–∞

**2. Bootstrap Contact Points:**
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç endpoint –¥–ª—è discovery –¥—Ä—É–≥–∏—Ö —É–∑–ª–æ–≤
- –£–∑–ª—ã —Å–≤—è–∑—ã–≤–∞—é—Ç—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º —á–µ—Ä–µ–∑ Management HTTP

**3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Kubernetes:**
- –û–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ Kubernetes API
- –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ Pod'–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Ö –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞

**4. –°–ª—É–∂–µ–±–Ω—ã–π —Å–ª–æ–π:**
- –ù–ï —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- –û—Ç–¥–µ–ª—ë–Ω –æ—Ç Akka Cluster
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å

</details>

### 3. –ß–µ–º discovery –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏?

<details>
<summary>–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç</summary>

**–û—Ç–≤–µ—Ç:**

| –ê—Å–ø–µ–∫—Ç | Load Balancing | Service Discovery |
|--------|---------------|-------------------|
| **–¶–µ–ª—å** | –†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã | –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ —É–∑–ª–æ–≤ |
| **–†–µ–∑—É–ª—å—Ç–∞—Ç** | –û–¥–∏–Ω —É–∑–µ–ª –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å | –í—Å–µ —É–∑–ª—ã –∏–∑–≤–µ—Å—Ç–Ω—ã |
| **–°–≤—è–∑—å** | Client ‚Üí LB ‚Üí Server | Peer-to-peer –º–µ–∂–¥—É –≤—Å–µ–º–∏ |
| **Kubernetes** | Service (ClusterIP/LB) | API / DNS lookups |
| **–ü—Ä–∏–º–µ—Ä** | HTTP –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ Ingress | Akka Cluster mesh |

**Load Balancing:**
```
Client ‚Üí LB ‚Üí Server1
           ‚Üò Server2
           ‚Üò Server3
```

**Service Discovery:**
```
Node1 ‚Üê‚Üí Node2
  ‚Üï        ‚Üï
Node3 ‚Üê‚Üí Node4
```

**–î–ª—è Akka Cluster –Ω—É–∂–µ–Ω Discovery**, –ø–æ—Ç–æ–º—É —á—Ç–æ:
- –£–∑–ª—ã –¥–æ–ª–∂–Ω—ã –∑–Ω–∞—Ç—å –¥—Ä—É–≥ –æ –¥—Ä—É–≥–µ
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ø—Ä—è–º—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (mesh)
- Load Balancer —Å–∫—Ä—ã–≤–∞–µ—Ç —É–∑–ª—ã, –∞ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Ö

</details>

### 4. –ü–æ—á–µ–º—É bootstrap –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω?

<details>
<summary>–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç</summary>

**–û—Ç–≤–µ—Ç:**

**–î–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –æ–∑–Ω–∞—á–∞–µ—Ç:**
- –ù–µ—Ç ¬´–≥–ª–∞–≤–Ω–æ–≥–æ¬ª —É–∑–ª–∞
- –õ—é–±–æ–π Pod –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –ø–µ—Ä–≤—ã–º
- –ù–µ—Ç single point of failure

**–ü—Ä–∏—á–∏–Ω—ã:**

**1. –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å:**
- –ï—Å–ª–∏ –ø–µ—Ä–≤—ã–π Pod —É–º—Ä—ë—Ç, –¥—Ä—É–≥–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Ä–∞–±–æ—Ç—É
- –ö–ª–∞—Å—Ç–µ—Ä –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∂–∏—Ç—å –ø–æ—Ç–µ—Ä—é –ª—é–±–æ–≥–æ —É–∑–ª–∞

**2. –ì–∏–±–∫–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞:**
- Pod'—ã –º–æ–≥—É—Ç —Å—Ç–∞—Ä—Ç–æ–≤–∞—Ç—å –≤ –ª—é–±–æ–º –ø–æ—Ä—è–¥–∫–µ
- –ù–µ –Ω—É–∂–Ω–æ –∂–¥–∞—Ç—å ¬´–≥–ª–∞–≤–Ω–æ–≥–æ¬ª

**3. –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:**
- –ù–æ–≤—ã–µ —É–∑–ª—ã –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—è—é—Ç—Å—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ
- –ù–µ –Ω—É–∂–Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —Å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–º —É–∑–ª–æ–º

**4. Cloud-native:**
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º Kubernetes
- Pod'—ã —Ä–∞–≤–Ω–æ–ø—Ä–∞–≤–Ω—ã –∏ –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã

**5. Resilience:**
- –°–∏—Å—Ç–µ–º–∞ —Å–∞–º–æ–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

</details>

### 5. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ Pod'–∞?

<details>
<summary>–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç</summary>

**–û—Ç–≤–µ—Ç:**

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–æ–±—ã—Ç–∏–π:**

**1. –£–¥–∞–ª–µ–Ω–∏–µ Pod'–∞:**
```bash
kubectl delete pod pod-name -n akka-cluster
```

**2. –í –∫–ª–∞—Å—Ç–µ—Ä–µ:**
- Gossip –ø—Ä–æ—Ç–æ–∫–æ–ª –∑–∞–º–µ—á–∞–µ—Ç, —á—Ç–æ —É–∑–µ–ª –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
- –£–∑–µ–ª –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ `Unreachable`
- –ü–æ—Å–ª–µ —Ç–∞–π–º–∞—É—Ç–∞: `Removed` –∏–∑ –∫–ª–∞—Å—Ç–µ—Ä–∞
- –û—Å—Ç–∞–ª—å–Ω—ã–µ —É–∑–ª—ã –æ–±–Ω–æ–≤–ª—è—é—Ç membership

**3. –í Kubernetes:**
- Deployment –∑–∞–º–µ—á–∞–µ—Ç –Ω–µ—Ö–≤–∞—Ç–∫—É —Ä–µ–ø–ª–∏–∫
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π Pod
- –ù–æ–≤—ã–π Pod –ø–æ–ª—É—á–∞–µ—Ç –Ω–æ–≤—ã–π IP

**4. Bootstrap –Ω–æ–≤–æ–≥–æ Pod'–∞:**
- –ù–æ–≤—ã–π Pod –∑–∞–ø—É—Å–∫–∞–µ—Ç Management
- –û–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ Kubernetes API
- –ù–∞—Ö–æ–¥–∏—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ Pod'—ã
- –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–µ—Ç—Å—è –∫ –∫–ª–∞—Å—Ç–µ—Ä—É

**5. –ò—Ç–æ–≥:**
- –ö–ª–∞—Å—Ç–µ—Ä –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è resilience

**–í –ª–æ–≥–∞—Ö –≤—ã —É–≤–∏–¥–∏—Ç–µ:**
```
‚ùå –£–∑–µ–ª –ø–æ–∫–∏–Ω—É–ª –∫–ª–∞—Å—Ç–µ—Ä: akka://ClusterSystem@10.1.0.10:25520
‚úÖ –£–∑–µ–ª –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª—Å—è –∫ –∫–ª–∞—Å—Ç–µ—Ä—É: akka://ClusterSystem@10.1.0.15:25520
üë• –ß–ª–µ–Ω–æ–≤ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ: 3
```

</details>

---

## üéØ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è

### –ó–∞–¥–∞–Ω–∏–µ 1: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–ª–∞—Å—Ç–µ—Ä–∞

**–¶–µ–ª—å:** –î–æ–±–∞–≤–∏—Ç—å endpoint –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–ª–∞—Å—Ç–µ—Ä–µ

**–ó–∞–¥–∞—á–∞:**
1. –î–æ–±–∞–≤—å—Ç–µ HTTP endpoint `/cluster/status`
2. –í–µ—Ä–Ω–∏—Ç–µ JSON —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–ª–µ–Ω–æ–≤
   - –ê–¥—Ä–µ—Å–∞ –≤—Å–µ—Ö —É–∑–ª–æ–≤
   - –õ–∏–¥–µ—Ä
   - –°—Ç–∞—Ç—É—Å self node

**–ü–æ–¥—Å–∫–∞–∑–∫–∞:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `akka.management.cluster.http`

### –ó–∞–¥–∞–Ω–∏–µ 2: Readiness –ø—Ä–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏

**–¶–µ–ª—å:** Pod –≥–æ—Ç–æ–≤ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –∫–ª–∞—Å—Ç–µ—Ä —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω

**–ó–∞–¥–∞—á–∞:**
1. –ò–∑–º–µ–Ω–∏—Ç–µ readiness probe
2. Pod –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å ready —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞:
   - –û–Ω –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª—Å—è –∫ –∫–ª–∞—Å—Ç–µ—Ä—É
   - –í–∏–¥–∏—Ç –º–∏–Ω–∏–º—É–º N —á–ª–µ–Ω–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2)

**–ü–æ–¥—Å–∫–∞–∑–∫–∞:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `cluster.state().getMembers().size()`

### –ó–∞–¥–∞–Ω–∏–µ 3: Graceful shutdown

**–¶–µ–ª—å:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤—ã—Ö–æ–¥ –∏–∑ –∫–ª–∞—Å—Ç–µ—Ä–∞ –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ

**–ó–∞–¥–∞—á–∞:**
1. –û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ SIGTERM —Å–∏–≥–Ω–∞–ª
2. –ü–µ—Ä–µ–¥ –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π:
   - –í—ã–≤–µ–¥–∏—Ç–µ —É–∑–µ–ª –∏–∑ –∫–ª–∞—Å—Ç–µ—Ä–∞ (`cluster.leave()`)
   - –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
   - –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ActorSystem

**–ü–æ–¥—Å–∫–∞–∑–∫–∞:** shutdown hook —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ Main.java

### –ó–∞–¥–∞–Ω–∏–µ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ split-brain

**–¶–µ–ª—å:** –ù–∞–±–ª—é–¥–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–∏ —Å–µ—Ç–∏

**–ó–∞–¥–∞—á–∞:**
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Network Policies –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ Pod'–∞
2. –ù–∞–±–ª—é–¥–∞–π—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏
3. –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞
4. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–≤—è–∑–Ω–æ—Å—Ç—å

**–ü–æ–¥—Å–∫–∞–∑–∫–∞:** –≠—Ç–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Ç–µ–º–∞, —Ç—Ä–µ–±—É–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏—è Kubernetes networking

### –ó–∞–¥–∞–Ω–∏–µ 5: Metrics –∏ Prometheus

**–¶–µ–ª—å:** –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞

**–ó–∞–¥–∞—á–∞:**
1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ `akka-management-cluster-http`
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Prometheus scraping
3. –°–æ–∑–¥–∞–π—Ç–µ dashboard —Å:
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —á–ª–µ–Ω–æ–≤
   - Unreachable nodes
   - Leader changes

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

### –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

- [Akka Management](https://doc.akka.io/docs/akka-management/current/)
- [Akka Cluster Bootstrap](https://doc.akka.io/docs/akka-management/current/bootstrap/)
- [Kubernetes Service Discovery](https://kubernetes.io/docs/concepts/services-networking/service/)

### –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã:

- **–õ–µ–∫—Ü–∏—è 4:** Akka Cluster basics
- **–õ–µ–∫—Ü–∏—è 6:** Cluster Sharding
- **–õ–µ–∫—Ü–∏—è 7:** Distributed Data

---

## ‚úÖ –ò—Ç–æ–≥–∏

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤—ã:

- ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ **Service Discovery** —á–µ—Ä–µ–∑ Kubernetes API
- ‚úÖ –£–≤–∏–¥–µ–ª–∏ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π bootstrap** –∫–ª–∞—Å—Ç–µ—Ä–∞
- ‚úÖ –ü–æ–Ω—è–ª–∏ **–¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –ø—Ä–∏—Ä–æ–¥—É** –∫–ª–∞—Å—Ç–µ—Ä–∞
- ‚úÖ –°–≤—è–∑–∞–ª–∏ **Kubernetes –∏ Akka**
- ‚úÖ –ü–æ–¥–≥–æ—Ç–æ–≤–∏–ª–∏—Å—å –∫ **Cluster Sharding**

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –õ–µ–∫—Ü–∏—è 6 ‚Äî Cluster Sharding –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏

---

**–°–æ–∑–¥–∞–Ω–æ:** 27 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–°—Ç—É–¥–µ–Ω—Ç:** FammeLn  
**–ö—É—Ä—Å:** OOP2  
**–¢–µ–º–∞:** Akka Cluster Bootstrap –≤ Kubernetes
