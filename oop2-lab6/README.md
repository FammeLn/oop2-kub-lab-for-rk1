# üß™ –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ6
## –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–∫—Ç–æ—Ä–æ–≤

### üìö –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã
–ù–∞—É—á–∏—Ç—å—Å—è:
- –°–æ–∑–¥–∞–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—â–∏—Ö –∞–∫—Ç–æ—Ä–æ–≤
- –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å ActorRef –º–µ–∂–¥—É –∞–∫—Ç–æ—Ä–∞–º–∏
- –†–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω Request-Response
- –ü–æ–Ω–∏–º–∞—Ç—å –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∞–∫—Ç–æ—Ä–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

### ActorSystem ‚Äî –∫–æ—Ä–µ–Ω—å –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã

**ActorSystem** ‚Äî —ç—Ç–æ:
- ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∞–∫—Ç–æ—Ä–æ–≤
- ‚úÖ –°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- ‚úÖ –í–ª–∞–¥–µ–ª–µ—Ü —Ä–µ—Å—É—Ä—Å–æ–≤ (–ø–æ—Ç–æ–∫–∏, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)
- ‚úÖ –ï–¥–∏–Ω–∏—Ü–∞ –æ—Ç–∫–∞–∑–∞

**–í–∞–∂–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ:** –í—Å–µ –∞–∫—Ç–æ—Ä—ã –∂–∏–≤—É—Ç –≤–Ω—É—Ç—Ä–∏ ActorSystem

### ActorRef ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–±—â–µ–Ω–∏—è

**ActorRef:**
- –≠—Ç–æ —Å—Å—ã–ª–∫–∞ –Ω–∞ –∞–∫—Ç–æ—Ä
- –ù–µ –¥–∞—ë—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é
- –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ `tell()`
- –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–µ–Ω
- –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –º–µ–∂–¥—É –∞–∫—Ç–æ—Ä–∞–º–∏
- –ú–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ –ø–æ–ª–µ

```java
ActorRef<Command> ref;
ref.tell(new Message());
```

**ActorRef = –∞–¥—Ä–µ—Å, –∞ –Ω–µ –æ–±—ä–µ–∫—Ç**

### –ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –∞–∫—Ç–æ—Ä–∞?

–ï—Å–ª–∏ –±—ã –º—ã –º–æ–≥–ª–∏ –¥–µ–ª–∞—Ç—å `actor.deposit(100)`, –º—ã –±—ã:
- ‚ùå –ü–æ–ª—É—á–∏–ª–∏ shared state
- ‚ùå –°–ª–æ–º–∞–ª–∏ –∏–∑–æ–ª—è—Ü–∏—é
- ‚ùå –í–µ—Ä–Ω—É–ª–∏ race condition

**–ú–µ—Ç–æ–¥—ã –∑–∞–ø—Ä–µ—â–µ–Ω—ã –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ!**

### Mailbox ‚Äî —Å–µ—Ä–¥—Ü–µ –∞–∫—Ç–æ—Ä–∞

–ö–∞–∂–¥—ã–π –∞–∫—Ç–æ—Ä –∏–º–µ–µ—Ç **mailbox**:
- –û—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π
- –°–æ–æ–±—â–µ–Ω–∏—è —É–ø–æ—Ä—è–¥–æ—á–µ–Ω—ã
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ –æ–¥–Ω–æ–º—É

**–í–∞–∂–Ω–æ:**
- –ü–æ—Ä—è–¥–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω –æ—Ç –æ–¥–Ω–æ–≥–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
- –ú–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è–º–∏ –ø–æ—Ä—è–¥–æ–∫ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è

### Request-Response –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫

–í –∞–∫—Ç–æ—Ä–Ω–æ–π –º–æ–¥–µ–ª–∏:
- –ù–µ—Ç –≤–æ–∑–≤—Ä–∞—Ç–∞ –∑–Ω–∞—á–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Ç–≤–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ–º

**–ü–∞—Ç—Ç–µ—Ä–Ω:**
1. –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ —Å `replyTo`
2. –û–±—Ä–∞–±–æ—Ç–∫–∞
3. –û—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ `tell()`

–≠—Ç–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–æ–≥ –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞!

---

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
oop2-lab6/
‚îú‚îÄ‚îÄ pom.xml                          # Maven –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ README.md                        # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îî‚îÄ‚îÄ src/
    ‚îî‚îÄ‚îÄ main/
        ‚îú‚îÄ‚îÄ java/com/akka/lab6/
        ‚îÇ   ‚îú‚îÄ‚îÄ Command.java         # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
        ‚îÇ   ‚îú‚îÄ‚îÄ Request.java         # –ó–∞–ø—Ä–æ—Å —Å replyTo
        ‚îÇ   ‚îú‚îÄ‚îÄ Response.java        # –û—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–∏—Å–∞
        ‚îÇ   ‚îú‚îÄ‚îÄ ServiceActor.java    # –ê–∫—Ç–æ—Ä-—Å–µ—Ä–≤–∏—Å
        ‚îÇ   ‚îú‚îÄ‚îÄ ClientActor.java     # –ê–∫—Ç–æ—Ä-–∫–ª–∏–µ–Ω—Ç
        ‚îÇ   ‚îú‚îÄ‚îÄ Main.java            # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
        ‚îÇ   ‚îî‚îÄ‚îÄ ExperimentsMain.java # –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Å –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏
        ‚îî‚îÄ‚îÄ resources/
            ‚îú‚îÄ‚îÄ application.conf     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Akka
            ‚îî‚îÄ‚îÄ logback.xml          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
```

---

## üíª –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Java 17+
- Maven 3.6+

### –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
```bash
cd oop2-lab6

# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
mvn clean compile

# –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
mvn exec:java

# –ó–∞–ø—É—Å–∫ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
mvn exec:java -Dexec.mainClass="com.akka.lab6.ExperimentsMain"
```

---

## üìñ –†–∞–∑–±–æ—Ä –∫–æ–¥–∞

### 1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π

```java
interface Command {}

class Request implements Command {
    final String text;
    final ActorRef<Response> replyTo;  // –ê–¥—Ä–µ—Å –¥–ª—è –æ—Ç–≤–µ—Ç–∞!
    
    Request(String text, ActorRef<Response> replyTo) {
        this.text = text;
        this.replyTo = replyTo;
    }
}

class Response {
    final String result;
    
    Response(String result) {
        this.result = result;
    }
}
```

**–ö–ª—é—á–µ–≤–æ–µ:** `replyTo` ‚Äî —ç—Ç–æ ActorRef, –∫–æ—Ç–æ—Ä—ã–π ServiceActor –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞

### 2. ServiceActor ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤

```java
class ServiceActor {
    static Behavior<Request> create() {
        return Behaviors.receiveMessage(req -> {
            // –û–±—Ä–∞–±–æ—Ç–∫–∞
            String processed = "Processed: " + req.text;
            
            // –û—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ replyTo
            req.replyTo.tell(new Response(processed));
            
            return Behaviors.same();
        });
    }
}
```

**–í–∞–∂–Ω–æ:**
- –ê–∫—Ç–æ—Ä –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ–º
- `replyTo.tell()` ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞

### 3. ClientActor ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤

```java
class ClientActor {
    static Behavior<Response> create() {
        return Behaviors.receiveMessage(res -> {
            System.out.println("Client received: " + res.result);
            return Behaviors.same();
        });
    }
}
```

### 4. –°–±–æ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã

```java
ActorSystem<Void> system = ActorSystem.create(
    Behaviors.setup(context -> {
        
        // –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–∏—Ö –∞–∫—Ç–æ—Ä–æ–≤ —á–µ—Ä–µ–∑ spawn
        var service = context.spawn(
            ServiceActor.create(),
            "service"
        );
        
        var client = context.spawn(
            ClientActor.create(),
            "client"
        );
        
        // –ò–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
        // –ü–µ—Ä–µ–¥–∞—ë–º ActorRef –∫–ª–∏–µ–Ω—Ç–∞ –≤ –∑–∞–ø—Ä–æ—Å–µ!
        service.tell(new Request("Hello", client));
        
        return Behaviors.empty();
    }),
    "interaction-system"
);
```

**–ß—Ç–æ –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –°–æ–∑–¥–∞—ë—Ç—Å—è –∫–æ—Ä–Ω–µ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `Behaviors.setup()`
2. –ß–µ—Ä–µ–∑ `context.spawn()` —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–æ—á–µ—Ä–Ω–∏–µ –∞–∫—Ç–æ—Ä—ã
3. `spawn()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç ActorRef
4. ActorRef –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏
5. –ù–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫, –Ω–µ—Ç –æ–∂–∏–¥–∞–Ω–∏–π ‚Äî –≤—Å—ë —á–µ—Ä–µ–∑ —Å–æ–æ–±—â–µ–Ω–∏—è

---

## üî¨ –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã

### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 1: –ë–∞–∑–æ–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
–ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç:
- –û—Ç–ø—Ä–∞–≤–∫—É –æ–¥–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
- –†–∞–±–æ—Ç—É –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Request-Response

### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 2: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
–û—Ç–ø—Ä–∞–≤–∫–∞ 5 –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–¥—Ä—è–¥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- –í—Å–µ –æ—Ç–≤–µ—Ç—ã –ø—Ä–∏—Ö–æ–¥—è—Ç
- –ù–µ—Ç –ø–æ—Ç–µ—Ä—å —Å–æ–æ–±—â–µ–Ω–∏–π

### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 3: –ù–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç–æ–≤
–°–æ–∑–¥–∞–Ω–∏–µ –¥–≤—É—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç:
- –ò–∑–æ–ª—è—Ü–∏—é –∞–∫—Ç–æ—Ä–æ–≤
- –ù–µ–∑–∞–≤–∏—Å–∏–º—É—é —Ä–∞–±–æ—Ç—É
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é –æ—Ç–≤–µ—Ç–æ–≤

### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 4: –°–µ—Ä–≤–∏—Å —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π (ExperimentsMain)
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É
- –†–∞–±–æ—Ç—É mailbox
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –ø—Ä–∏ –∑–∞–¥–µ—Ä–∂–∫–∞—Ö
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫

---

## ‚ùì –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### 1. –ß—Ç–æ —Ç–∞–∫–æ–µ ActorSystem?
**–û—Ç–≤–µ—Ç:** ActorSystem ‚Äî —ç—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–ª—è –∞–∫—Ç–æ—Ä–æ–≤. –≠—Ç–æ –∫–æ—Ä–µ–Ω—å –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–π –≤–ª–∞–¥–µ–µ—Ç —Ä–µ—Å—É—Ä—Å–∞–º–∏ (–ø–æ—Ç–æ–∫–∏, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ), —É–ø—Ä–∞–≤–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –∞–∫—Ç–æ—Ä–æ–≤ –∏ —è–≤–ª—è–µ—Ç—Å—è –µ–¥–∏–Ω–∏—Ü–µ–π –æ—Ç–∫–∞–∑–∞. –í—Å–µ –∞–∫—Ç–æ—Ä—ã –¥–æ–ª–∂–Ω—ã –∂–∏—Ç—å –≤–Ω—É—Ç—Ä–∏ ActorSystem.

### 2. –ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –∞–∫—Ç–æ—Ä—ã —á–µ—Ä–µ–∑ `new`?
**–û—Ç–≤–µ—Ç:** –ü–æ—Ç–æ–º—É —á—Ç–æ:
- –ê–∫—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ —Å–∏—Å—Ç–µ–º–µ
- –ï–≥–æ –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è ActorSystem
- –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –∑–Ω–∞—Ç—å, –≥–¥–µ –æ–Ω –∂–∏–≤—ë—Ç
- –ù—É–∂–Ω–∞ –∏–∑–æ–ª—è—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏

–ê–∫—Ç–æ—Ä—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `ActorSystem.create()` –∏–ª–∏ `context.spawn()`.

### 3. –ß—Ç–æ —Ç–∞–∫–æ–µ ActorRef?
**–û—Ç–≤–µ—Ç:** ActorRef ‚Äî —ç—Ç–æ —Å—Å—ã–ª–∫–∞ –Ω–∞ –∞–∫—Ç–æ—Ä, –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± —Å –Ω–∏–º –æ–±—â–∞—Ç—å—Å—è. –û–Ω:
- –ù–µ –¥–∞—ë—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é –∞–∫—Ç–æ—Ä–∞
- –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ `tell()`
- –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–µ–Ω
- –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –º–µ–∂–¥—É –∞–∫—Ç–æ—Ä–∞–º–∏
- –ú–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ –ø–æ–ª–µ

ActorRef = –∞–¥—Ä–µ—Å, –∞ –Ω–µ –æ–±—ä–µ–∫—Ç.

### 4. –ö–∞–∫ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è Request-Response?
**–û—Ç–≤–µ—Ç:** –ü–∞—Ç—Ç–µ—Ä–Ω Request-Response —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–¥–∞—á—É ActorRef –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏:
1. –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –≤–∫–ª—é—á–∞–µ—Ç —Å–≤–æ–π ActorRef –≤ –ø–æ–ª–µ `replyTo` –∑–∞–ø—Ä–æ—Å–∞
2. –ü–æ–ª—É—á–∞—Ç–µ–ª—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å
3. –ü–æ–ª—É—á–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ `replyTo.tell()`
4. –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

–≠—Ç–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–æ–≥ –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞ –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.

### 5. –ü–æ—á–µ–º—É mailbox –≤–∞–∂–µ–Ω?
**–û—Ç–≤–µ—Ç:** Mailbox (–ø–æ—á—Ç–æ–≤—ã–π —è—â–∏–∫) ‚Äî —ç—Ç–æ –æ—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π –∞–∫—Ç–æ—Ä–∞. –û–Ω –≤–∞–∂–µ–Ω –ø–æ—Ç–æ–º—É —á—Ç–æ:
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π (–ø–æ –æ–¥–Ω–æ–º—É)
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –æ–¥–Ω–æ–≥–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –∞–∫—Ç–æ—Ä—É –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∏–∑–æ–ª—è—Ü–∏—é —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –Ø–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á–µ–≤—ã–º –º–µ—Ö–∞–Ω–∏–∑–º–æ–º –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è race condition

---

## üéì –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏?

1. **–°–æ–∑–¥–∞—ë—Ç—Å—è ActorSystem** —Å –∫–æ—Ä–Ω–µ–≤—ã–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º
2. **–ß–µ—Ä–µ–∑ `context.spawn()`** —Å–æ–∑–¥–∞—é—Ç—Å—è ServiceActor –∏ ClientActor
3. **`spawn()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç ActorRef** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫—Ç–æ—Ä–∞
4. **–ó–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è** —á–µ—Ä–µ–∑ `service.tell()` —Å ActorRef –∫–ª–∏–µ–Ω—Ç–∞
5. **ServiceActor –ø–æ–ª—É—á–∞–µ—Ç** –∑–∞–ø—Ä–æ—Å –∏–∑ mailbox
6. **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç** –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç —á–µ—Ä–µ–∑ `replyTo.tell()`
7. **ClientActor –ø–æ–ª—É—á–∞–µ—Ç** –æ—Ç–≤–µ—Ç –∏–∑ —Å–≤–æ–µ–≥–æ mailbox
8. **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç** –∏ –≤—ã–≤–æ–¥–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–ö–ª—é—á–µ–≤–æ–µ:** –í—Å—ë –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫, –±–µ–∑ –≤–æ–∑–≤—Ä–∞—Ç–∞ –∑–Ω–∞—á–µ–Ω–∏–π!

---

## üöÄ –ü–æ—á–µ–º—É –∞–∫—Ç–æ—Ä—ã —Ö–æ—Ä–æ—à–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è?

- ‚úÖ –ù–µ—Ç shared state
- ‚úÖ –ù–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
- ‚úÖ –ò–∑–æ–ª—è—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- ‚úÖ –õ–µ–≥–∫–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞
- ‚úÖ Message-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**–ê–∫—Ç–æ—Ä—ã ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞, –∞ –Ω–µ –∫–ª–∞—Å—Å!**

---

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è

1. **–î–æ–±–∞–≤—å—Ç–µ —Ç—Ä–µ—Ç–∏–π –∞–∫—Ç–æ—Ä** ‚Äî `LoggerActor`, –∫–æ—Ç–æ—Ä—ã–π –ª–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã
2. **–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å—á—ë—Ç—á–∏–∫** –≤ ServiceActor –¥–ª—è –ø–æ–¥—Å—á—ë—Ç–∞ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
3. **–°–æ–∑–¥–∞–π—Ç–µ –∞–∫—Ç–æ—Ä-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä**, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
4. **–î–æ–±–∞–≤—å—Ç–µ —Ç–∞–π–º–∞—É—Ç—ã** –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É—è `context.scheduleOnce()`)
5. **–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ü–µ–ø–æ—á–∫—É** –∏–∑ 3-4 –∞–∫—Ç–æ—Ä–æ–≤, –≥–¥–µ –∫–∞–∂–¥—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç –¥–∞–ª—å—à–µ

---

## ‚úÖ –ò—Ç–æ–≥–∏ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤—ã:
- ‚úÖ –ü–æ–Ω–∏–º–∞–µ—Ç–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É ActorSystem
- ‚úÖ –£–º–µ–µ—Ç–µ —Å—Ç—Ä–æ–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∞–∫—Ç–æ—Ä–æ–≤
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ ActorRef –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –†–µ–∞–ª–∏–∑—É–µ—Ç–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
- ‚úÖ –ú—ã—Å–ª–∏—Ç–µ message-driven
- ‚úÖ –ì–æ—Ç–æ–≤—ã –∫ supervision –∏ —Ä–∞–±–æ—Ç–µ —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

---

## üìö –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è

- **ActorSystem** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **ActorRef** ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ –∞–∫—Ç–æ—Ä –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- **Mailbox** ‚Äî –æ—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π –∞–∫—Ç–æ—Ä–∞
- **Request-Response** ‚Äî –ø–∞—Ç—Ç–µ—Ä–Ω –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- **context.spawn()** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–∏—Ö –∞–∫—Ç–æ—Ä–æ–≤
- **replyTo** ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ ActorRef –¥–ª—è –æ—Ç–≤–µ—Ç–∞

---

## üìù –°–≤—è–∑—å —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–π –Ω–µ–¥–µ–ª–µ–π

**–ù–µ–¥–µ–ª—è 5:** –û–¥–∏–Ω –∞–∫—Ç–æ—Ä, –±–∞–∑–æ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏  
**–ù–µ–¥–µ–ª—è 6:** –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –∞–∫—Ç–æ—Ä–æ–≤, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ, —Å–∏—Å—Ç–µ–º–∞

–ú—ã –ø—Ä–æ—à–ª–∏ –ø—É—Ç—å –æ—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∞–∫—Ç–æ—Ä–∞ –∫ —Å–∏—Å—Ç–µ–º–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—â–∏—Ö –∞–∫—Ç–æ—Ä–æ–≤!

---

**¬© 2026 OOP2 –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ6**
